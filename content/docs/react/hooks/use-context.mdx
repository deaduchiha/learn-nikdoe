---
title: โโโuseContext
icon: Network
description: "useContext ุงุจุฒุงุฑ ุฏุฑ React ุงุณุช ุจุฑุง ุจูโุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุฏุงุฏูโูุง ุจู ูุงูโูุง ูุฎุชูู ุฏุฑุฎุช ฺฉุงููพูููุช ุจุฏูู ูุงุฒ ุจู prop drilling. ุงู ููฺฉ ุจุงุนุซ ูโุดูุฏ ุฏุงุฏูโูุง ูุดุชุฑฺฉ ูุซู themeุ ุฒุจุงูุ ุง ฺฉุงุฑุจุฑ ูุงฺฏู ุดุฏูุ ุจูโุณุงุฏฺฏ ุฏุฑ ฺฉู ุจุฑูุงูู ุฏุฑ ุฏุณุชุฑุณ ุจุงุดูุฏ."
---

## ๐ ููุฏูู: ฺุฑุง ุจู Context ูุงุฒ ุฏุงุฑูุ

ุชุตูุฑ ฺฉู ฺฉ ุงูพูฺฉุดู ุฏุงุฑ ุจุง ุงู ูุงุฒูุง:

- ฺฉุงุฑุจุฑ ูโุฎูุงูุฏ ุจู **ุชู ุฑูุดู ู ุชุงุฑฺฉ** ุณูฺ ฺฉูุฏ.
- ฺูุฏู ฺฉุงููพูููุช ุฏุฑุฎุช ูุงุฒ ุจู ุฏุงูุณุชู **ุฒุจุงู ุงูุชุฎุงุจโุดุฏู** ุฏุงุฑูุฏ.
- ุจุฑุฎ ุจุฎุดโูุง ุจุงุฏ ุจุฏุงููุฏ **ฺู ฺฉุณ ูุงฺฏู ฺฉุฑุฏู ุงุณุช**.

ุงฺฏุฑ ุจุฎูุงู ุงู ุฏุงุฏูโูุง ุฑุง ุจุง `props` ุฑุฏ ฺฉูุ ุจุงุฏ ุขูโูุง ุฑุง ุงุฒ ุจุงูุงุชุฑู ุณุทุญ ุชุง ูพุงูโุชุฑู ุณุทุญ ูพุงุณ ุจุฏู. ุจู ุงู ูุดฺฉู ูโฺฏููุฏ **prop drilling** (ุญูุงุฑ props).

Context ูุซู ฺฉ **ุงุณุชฺฏุงู ูพุฎุด ุฑุงุฏู** ุงุณุช:

- ุดูุง ุฏุฑ ฺฉ ููุทู ุฏุงุฏูโูุง ุฑุง "ูพุฎุด" ูโฺฉู.
- ูุฑ ฺฉุงููพูููุช ุฏุฑ ุฒุฑุดุงุฎู ูโุชูุงูุฏ ุจุง `useContext` ุจู ุขู "ฺฏูุด" ุจุฏูุฏุ ุจุฏูู ุงูฺฉู ูุงุฒ ุจุงุดุฏ props ุฏุณุช ุจู ููู ูพุงุณ ุฏุงุฏู ุดูุฏ.

---

## ุงุฌุงุฏ Context

````tsx
import { createContext } from "react";

export const MyContext = createContext<ContextType>(defaultValue);


* `ContextType`: The shape of the data you want to store in the Context.
* `defaultValue`: Only used when there is no Provider above in the component tree.

---

## ุงุฑุงุฆู Context

```tsx
import { MyContext } from "./MyContext";

function App() {
  const sharedValue: ContextType = {
    /* โฆ */
  };

  return (
    <MyContext.Provider value={sharedValue}>
      <YourComponentTree />
    </MyContext.Provider>
  );
}
````

Provider ูุซู **ุจุฑุฌ ูุฎุงุจุฑุงุช** ุงุณุช ฺฉู ุณฺฏูุงู ุฑุง ุจุฑุง ูููโ ูุฑุฒูุฏุงู ุงุฑุณุงู ูโฺฉูุฏ.

---

## ูุตุฑู Context ุจุง useContext

```tsx
import { useContext } from "react";
import { MyContext } from "./MyContext";

function Child() {
  const ctx = useContext(MyContext);
  return <div>{ctx.someValue}</div>;
}
```

---

## ููฺฉ ุณูุงุฑุด (ุงุฎุชุงุฑ ูู ุชูุตูโุดุฏู)

```tsx
export function useMyContext() {
  const ctx = useContext(MyContext);
  if (!ctx) {
    throw new Error("useMyContext must be used within a MyContext.Provider");
  }
  return ctx;
}
```

ุงู ุฑูุด ุจุงุนุซ ูโุดูุฏ ููุดู type-safe ู ุฎุทุงุงุจ ุขุณุงู ุจุงุดุฏ.

---

## ุจูุชุฑู ุดููโูุง

โ **ุฏุงุฏูโูุง ุณุฑุนโุงูุชุบุฑ** (ูุซู ุงุณฺฉุฑูู ุง ููุณ) ุฑุง ุฏุฑ Context ูฺฏุฐุงุฑุฏ. ุงู ุฏุงุฏูโูุง ุจุงุฏ ูุญู ุง ุฏุฑ state ูุฒุฏฺฉ ุจุงุดูุฏุ ฺูู ูุฑ ุชุบุฑ ุจุงุนุซ re-render ููู ูุตุฑูโฺฉููุฏฺฏุงู ูโุดูุฏ.

โ **Contextูุง ุฑุง ุฌุฏุง ูฺฏู ุฏุงุฑุฏ**. ุจู ุฌุง ฺฉ mega-contextุ ุจุฑุง ุชูุ ุฒุจุงูุ ู auth ุฌุฏุงฺฏุงูู ุจุณุงุฒุฏ.

โ **ููุดู type ุงูู ุฏุงุดุชู ุจุงุดุฏ**. ููุฏุงุฑ ูพุดโูุฑุถ ุฎูุจ ู ุง ููฺฉ ุณูุงุฑุด ูุญุงูุธุชโฺฉููุฏู ุงุถุงูู ฺฉูุฏ.

โ **Memoize ฺฉูุฏ**. ุงฺฏุฑ value ุดุงูู object ุง function ุงุณุชุ ุจุง `useMemo` ุง `useCallback` ุงุฒ ุฑูุฏุฑูุง ุบุฑุถุฑูุฑ ุฌููฺฏุฑ ฺฉูุฏ.

---

## ูุซุงูโูุง ุฏูุง ูุงูุน

### ฑ. ุชุบุฑ ุชู (ูุจุชุฏ)

```tsx
import { createContext, useContext, useState } from "react";

type Theme = "light" | "dark";

const ThemeContext = createContext<{
  theme: Theme;
  toggle: () => void;
}>({ theme: "light", toggle: () => {} });

export function ThemeProvider({ children }: { children: React.ReactNode }) {
  const [theme, setTheme] = useState<Theme>("light");
  const toggle = () => setTheme((t) => (t === "light" ? "dark" : "light"));

  return (
    <ThemeContext.Provider value={{ theme, toggle }}>
      {children}
    </ThemeContext.Provider>
  );
}

export function useTheme() {
  return useContext(ThemeContext);
}

function Toolbar() {
  const { theme, toggle } = useTheme();
  return (
    <button className={theme} onClick={toggle}>
      ุชุบุฑ ุจู {theme === "light" ? "ุชุงุฑฺฉ" : "ุฑูุดู"}
    </button>
  );
}
```

---

### ฒ. ุชุบุฑ ุฒุจุงู (ูุชูุณุท)

```tsx
import { createContext, useContext, useState } from "react";

type Lang = "en" | "fa";

const LanguageContext = createContext<{
  lang: Lang;
  setLang: (l: Lang) => void;
}>({ lang: "en", setLang: () => {} });

export function LanguageProvider({ children }: { children: React.ReactNode }) {
  const [lang, setLang] = useState<Lang>("en");
  return (
    <LanguageContext.Provider value={{ lang, setLang }}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  return useContext(LanguageContext);
}

function Greeting() {
  const { lang } = useLanguage();
  return <h1>{lang === "en" ? "Hello" : "ุณูุงู"}</h1>;
}
```

---

### ณ. ุงุญุฑุงุฒ ููุช (ูพุดุฑูุชู)

```tsx
import { createContext, useContext, useReducer } from "react";

interface User {
  id: string;
  name: string;
}

type State = { user: User | null };
type Action = { type: "LOGIN"; payload: User } | { type: "LOGOUT" };

function authReducer(state: State, action: Action): State {
  switch (action.type) {
    case "LOGIN":
      return { user: action.payload };
    case "LOGOUT":
      return { user: null };
    default:
      return state;
  }
}

const AuthContext = createContext<{
  user: User | null;
  login: (u: User) => void;
  logout: () => void;
} | null>(null);

export function AuthProvider({ children }: { children: React.ReactNode }) {
  const [state, dispatch] = useReducer(authReducer, { user: null });

  const login = (u: User) => dispatch({ type: "LOGIN", payload: u });
  const logout = () => dispatch({ type: "LOGOUT" });

  return (
    <AuthContext.Provider value={{ user: state.user, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
}

export function useAuth() {
  const ctx = useContext(AuthContext);
  if (!ctx) throw new Error("useAuth ุจุงุฏ ุฏุงุฎู AuthProvider ุงุณุชูุงุฏู ุดูุฏ");
  return ctx;
}
```

---

## ุชูุฑู ุนูู

๐ **ุชูุฑู ฑ (ูุจุชุฏ)**
ฺฉ `CounterContext` ุจุณุงุฒุฏ ฺฉู ุดุงูู `count` ู ฺฉ ุชุงุจุน `increment()` ุจุงุดุฏ.
ุฏู ฺฉุงููพูููุช ููโุณุทุญ ุจุณุงุฒุฏ: ฺฉ ุนุฏุฏ ุฑุง ููุงุด ุฏูุฏุ ุฏฺฏุฑ ุฏฺฉููโ ุงูุฒุงุด ุฏุงุดุชู ุจุงุดุฏ.

๐ **ุชูุฑู ฒ (ูุชูุณุท)**
Context ุฒุจุงู ุฑุง ฺฏุณุชุฑุด ุฏูุฏ:

- ฺฉ dropdown ุงุถุงูู ฺฉูุฏ ุจุฑุง ุงูุชุฎุงุจ `en | fa | es`.
- ูพุงู ุฎูุดโุขูุฏ ุฑุง ุจุฑุง ูุฑ ุณู ุฒุจุงู ุชุบุฑ ุฏูุฏ.
- ุฒุจุงู ุงูุชุฎุงุจโุดุฏู ุฑุง ุฏุฑ `localStorage` ุฐุฎุฑู ฺฉูุฏ ู ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ุจุงุฒุงุจ ฺฉูุฏ.

๐ **ุชูุฑู ณ (ูพุดุฑูุชู)**
ฺฉ ุณุณุชู Auth ุจุณุงุฒุฏ:

- Context ุจุง `login`, `logout`, ู `user` ุงุฌุงุฏ ฺฉูุฏ.
- ููฺฏุงู ูุฑูุฏุ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุฑุง ุงุฒ ฺฉ API ุฌุนู ุฏุฑุงูุช ฺฉูุฏ.
- ุงุฒ React Router ุจุฑุง ูุญุงูุธุช ุงุฒ ูุณุฑูุง ุฎุงุต ุงุณุชูุงุฏู ฺฉูุฏ.
- ฺฉ ููฺฉ ุณูุงุฑุด `useRequireAuth` ุงุถุงูู ฺฉูุฏ ฺฉู ุงฺฏุฑ ฺฉุงุฑุจุฑ ูุงฺฏู ูฺฉุฑุฏู ุจูุฏุ ุงู ุฑุง redirect ฺฉูุฏ.

---

## ๐ฏ ุฌูุนโุจูุฏ ููุง

- Context ุจูุชุฑู ุฑุงู ุจุฑุง **ุงุดุชุฑุงฺฉ ุฏุงุฏูโ ูุดุชุฑฺฉ** ุจู ฺูุฏู ูุงู ุงุณุช ุจุฏูู prop drilling.
- Provider ุฏุงุฏูโูุง ุฑุง ูพุฎุด ูโฺฉูุฏุ ูุตุฑูโฺฉููุฏูโูุง ุจุง useContext ุจู ุขู ฺฏูุด ูโุฏููุฏ.
- ุจุฑุง ุฏุงุฏูโูุง ุฒุงุฏ ู ุณุฑุน ุชุบุฑุ Context ููุงุณุจ ูุณุช (performance hit).
- Contextูุง ุฑุง ุฌุฏุง ูฺฏู ุฏุงุฑุฏุ ุงูู ุชุงูพ ฺฉูุฏุ ู ููุฏุงุฑุดุงู ุฑุง memoize ฺฉูุฏ.
- Context ุจุฑุง themeุ ุฒุจุงูุ ู auth ุณู ูููููโ ฺฉูุงุณฺฉ ู ูพุฑฺฉุงุฑุจุฑุฏ ุงุณุช.
