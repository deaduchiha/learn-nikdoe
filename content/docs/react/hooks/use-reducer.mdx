---
title: โโโuseReducer
icon: Workflow
description: "useReducer ููุช ุจู ฺฉุงุฑ ูโุขุฏ ฺฉู state ุดูุง ูพฺุฏูโุชุฑ ุงุฒ ุขู ุงุณุช ฺฉู ุจุง useState ูุฏุฑุช ุดูุฏ. ุงู ููฺฉ ููุทู ุจูโุฑูุฒุฑุณุงู state ุฑุง ุฏุฑ ฺฉ ุชุงุจุน ุฎุงูุต ุจู ูุงู reducer ูุชูุฑฺฉุฒ ูโฺฉูุฏ ู ุชุบุฑุงุช ุฑุง ูุงุจู ูพุดโุจู ู ุณุงุฒูุงูโุงูุชู ูโุณุงุฒุฏ."
---

## ๐ ููุฏูู: ฺุฑุง ุจู useReducer ูุงุฒ ุฏุงุฑูุ

ูุฑุถ ฺฉู ฺฉ ูพุฑูฺูโ ูุงูุน ุฏุงุฑ:

- ฺฉ ูุฑู ุซุจุชโูุงู ุจุง ฺูุฏู ููุฏ (ูุงูุ ุงููุ ูพุณูุฑุฏุ ุชุงุฏ ูพุณูุฑุฏ).
- ฺฉ ุณุจุฏ ุฎุฑุฏ ฺฉู ุจุงุฏ ุจุชูุงู ุขุชู ุงุถุงูู ุง ุญุฐู ฺฉู.
- ฺฉ ุงูพูฺฉุดู Todo ฺฉู ุจุงุฏ ุจุชูุงูุฏ ฺฉุงุฑูุง ุฑุง ุงุถุงููุ ุชฺฉูู ุง ุญุฐู ฺฉูุฏ.

ูุฏุฑุช ูููโ ุงู ูุถุนุชโูุง ุจุง `useState` ุจูโุชููุง ุจุงุนุซ ุดููุบ ุดุฏุฏ ฺฉุฏ ูโุดูุฏ. ุงูุฌุงุณุช ฺฉู `useReducer` ูุซู ฺฉ **ูุฏุฑ ูพุฑูฺู** ูุงุฑุฏ ูโุดูุฏ: ุชูุงู ุชุบุฑุงุช state ุฑุง ูุชูุฑฺฉุฒ ูโฺฉูุฏ ู ูโฺฏูุฏ _ุจุฑุง ูุฑ ุฏุฑุฎูุงุณุชุ ุฏููุงู ฺู ุงุชูุงู ุจุงุฏ ุจูุชุฏ_.

---

## useReducer ฺุณุชุ

`useReducer` ฺฉ ููฺฉ React ุงุณุช ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ state ู ููุทู ุชุบุฑ ุขู ุฑุง ุฏุฑ ฺฉ ุชุงุจุน ุฎุงูุต ุจู ูุงู **reducer** ูฺฏู ุฏุงุฑุฏ.

- ุดูุง ฺฉ **action** (ุฏุณุชูุฑ) ุฑุง dispatch ูโฺฉูุฏ.
- reducer ุจุฑ ุงุณุงุณ ุขู ุฏุณุชูุฑุ **state ุฌุฏุฏ** ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.

---

## ูุญู ุงุณุชูุงุฏู

```tsx
const [state, dispatch] = useReducer(reducer, initialState);
```

- `state`: ููุฏุงุฑ ูุนู ูุถุนุช.
- `dispatch`: ุชุงุจุน ุจุฑุง ุงุฑุณุงู ฺฉ action.
- `reducer`: ุชุงุจุน ฺฉู state ู action ุฑุง ูโฺฏุฑุฏ ู state ุฌุฏุฏ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.
- `initialState`: ููุฏุงุฑ ุงููู state.

---

## ฺู ุฒูุงู ุงุฒ useReducer ุงุณุชูุงุฏู ฺฉููุ

- ููุช state ุดูุง **ฺูุฏู ุจุฎุด ูุฎุชูู** ุฏุงุฑุฏ (ฺฉ ุดุก ุง ุขุฑุงู ุจุฒุฑฺฏ).
- ููุช ุชุบุฑุงุช state ุจู **state ูุจู ูุงุจุณุชูโุงูุฏ**.
- ููุช ูโุฎูุงูุฏ ููุทู ุจูโุฑูุฒุฑุณุงู state ุฑุง ูุชูุฑฺฉุฒ ู ูุงุจู ุชุณุช ูฺฏู ุฏุงุฑุฏ.

---

## ูุซุงู ุณุงุฏู: ุดูุงุฑูุฏู

```tsx
type Action = { type: "inc" } | { type: "dec" } | { type: "reset" };

function reducer(state: number, action: Action): number {
  switch (action.type) {
    case "inc":
      return state + 1;
    case "dec":
      return state - 1;
    case "reset":
      return 0;
    default:
      return state;
  }
}

export default function Counter() {
  const [count, dispatch] = useReducer(reducer, 0);

  return (
    <>
      <p>ุดูุงุฑุด: {count}</p>
      <button onClick={() => dispatch({ type: "inc" })}>+ฑ</button>
      <button onClick={() => dispatch({ type: "dec" })}>โฑ</button>
      <button onClick={() => dispatch({ type: "reset" })}>ุจุงุฒูุดุงู</button>
    </>
  );
}
```

๐ ูฺฉุงุช ููู:

- `reducer` ููุดู ฺฉ ุชุงุจุน **ุฎุงูุต** ุงุณุช (ููุท ูุฑูุฏ โ ุฎุฑูุฌุ ุจุฏูู API call ุง side effect).
- `dispatch` ููุงู ุฏุณุชูุฑ ุงุณุช ฺฉู ุจู reducer ูโฺฏูุฏ ฺู ฺฉุงุฑ ฺฉูุฏ.

---

## ูุซุงู ูุงูุน ฑ: ุชุบุฑ ุชู ุณุงุช

```tsx
type Theme = "light" | "dark";
type ThemeAction = { type: "light" } | { type: "dark" };

function themeReducer(state: Theme, action: ThemeAction): Theme {
  switch (action.type) {
    case "light":
      return "light";
    case "dark":
      return "dark";
    default:
      return state;
  }
}

function ThemeToggle() {
  const [theme, dispatch] = useReducer(themeReducer, "light");

  return (
    <div>
      <p>ุชู ูุนู: {theme}</p>
      <button onClick={() => dispatch({ type: "light" })}>ุฑูุดู</button>
      <button onClick={() => dispatch({ type: "dark" })}>ุชุงุฑฺฉ</button>
    </div>
  );
}
```

---

## ูุซุงู ูุงูุน ฒ: ูุฏุฑุช ูุฑู

```tsx
type FormState = { name: string; email: string };
type FormAction =
  | { type: "setName"; payload: string }
  | { type: "setEmail"; payload: string }
  | { type: "reset" };

function formReducer(state: FormState, action: FormAction): FormState {
  switch (action.type) {
    case "setName":
      return { ...state, name: action.payload };
    case "setEmail":
      return { ...state, email: action.payload };
    case "reset":
      return { name: "", email: "" };
    default:
      return state;
  }
}

function MyForm() {
  const [state, dispatch] = useReducer(formReducer, { name: "", email: "" });

  return (
    <form>
      <input
        value={state.name}
        onChange={(e) => dispatch({ type: "setName", payload: e.target.value })}
        placeholder="ูุงู"
      />
      <input
        value={state.email}
        onChange={(e) =>
          dispatch({ type: "setEmail", payload: e.target.value })
        }
        placeholder="ุงูู"
      />
      <button type="button" onClick={() => dispatch({ type: "reset" })}>
        ุจุงุฒูุดุงู
      </button>
    </form>
  );
}
```

ุงู ุฑูุด ุจูโุฌุง ฺูุฏู `useState` ูุฎุชูู ุจุฑุง ูุฑ ููุฏุ ุชูุงู ููุทู ูุฑู ุฑุง ุฏุฑ ฺฉ ุฌุง ูฺฏู ูโุฏุงุฑุฏ.

---

## ูุซุงู ูุงูุน ณ: ุณุจุฏ ุฎุฑุฏ ูุฑูุดฺฏุงู

```tsx
type Item = { id: number; name: string };
type CartAction =
  | { type: "add"; item: Item }
  | { type: "remove"; id: number }
  | { type: "clear" };

function cartReducer(state: Item[], action: CartAction): Item[] {
  switch (action.type) {
    case "add":
      return [...state, action.item];
    case "remove":
      return state.filter((item) => item.id !== action.id);
    case "clear":
      return [];
    default:
      return state;
  }
}

function Cart() {
  const [cart, dispatch] = useReducer(cartReducer, []);

  return (
    <div>
      <button
        onClick={() =>
          dispatch({ type: "add", item: { id: Date.now(), name: "ุณุจ" } })
        }
      >
        ุงุถุงูู ฺฉุฑุฏู ุณุจ
      </button>
      <button onClick={() => dispatch({ type: "clear" })}>ูพุงฺฉ ฺฉุฑุฏู ุณุจุฏ</button>
      <ul>
        {cart.map((item) => (
          <li key={item.id}>
            {item.name}{" "}
            <button onClick={() => dispatch({ type: "remove", id: item.id })}>
              ุญุฐู
            </button>
          </li>
        ))}
      </ul>
    </div>
  );
}
```

---

## ุจูุชุฑู ุดููโูุง

- reducer ููุดู ุจุงุฏ **ุฎุงูุต** ุจุงุดุฏ: ูฺ fetchุ ูฺ ุชุงูุฑุ ููุท ูุญุงุณุจูโ state.
- ููุดู ูููโ actionูุง ุฑุง ูุฏุฑุช ฺฉูุฏุ ุญุช ุงฺฏุฑ ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑฺฏุฑุฏุงูุฏ.
- ุงฺฏุฑ reducer ููุท ุจุฑุง ููุงู ฺฉุงููพูููุช ุงุณุชุ ููุงูโุฌุง ุชุนุฑู ฺฉูุฏุ ุงฺฏุฑ ูุดุชุฑฺฉ ุงุณุช ุฌุฏุง ฺฉูุฏ.
- ุงุฒ TypeScript ุจุฑุง ุงุทููุงู ุงุฒ ูพูุดุด ูููโ actionูุง ุงุณุชูุงุฏู ฺฉูุฏ.

---

## ุชูุฑู ุนูู

๐ **ุชูุฑู ฑ (ูุจุชุฏ): ุชุบุฑ ุชู**

- ฺฉ reducer ุจุฑุง ูุฏุฑุช ุณู ุญุงูุช ุจุณุงุฒุฏ: `light | dark | system`.
- ุณู ุฏฺฉูู ุจุฑุง ุชุบุฑ ุชู ุฑูุฏุฑ ฺฉูุฏ.

๐ **ุชูุฑู ฒ (ูุชูุณุท): ูุฑู ฺูุฏูุฑุญููโุง**

- ฺฉ ูุฑู ุซุจุชโูุงู ุณูโูุฑุญููโุง ุจุณุงุฒุฏ (ุงุทูุงุนุงุช ุดุฎุต โ ุขุฏุฑุณ โ ุชุงุฏ).
- ุงุฒ useReducer ุจุฑุง ูุฏุฑุช ูุฑุญููโ ูุนู ู ุฏุงุฏูโูุง ูุฑู ุงุณุชูุงุฏู ฺฉูุฏ.

๐ **ุชูุฑู ณ (ูพุดุฑูุชู): Todo App**

- ุงุถุงูู ฺฉุฑุฏู ฺฉุงุฑ ุฌุฏุฏ
- ุชุบุฑ ูุถุนุช ุชฺฉููโุดุฏู
- ุญุฐู ฺฉุงุฑ
- ูพุงฺฉ ฺฉุฑุฏู ูููโ ฺฉุงุฑูุง ุชฺฉููโุดุฏู
- ูููโ ุงูโูุง ุฑุง ุจุง useReducer ูุฏุฑุช ฺฉูุฏ.

---

## ๐ฏ ุฌูุนโุจูุฏ ููุง

- ููุช state ุดูุง ุณุงุฏู ุงุณุชุ ุงุฒ `useState` ุงุณุชูุงุฏู ฺฉูุฏ. ููุช state ูพฺุฏู ุง ูุงุจุณุชู ุดุฏุ `useReducer` ุงูุชุฎุงุจ ุจูุชุฑ ุงุณุช.
- reducer ููุทู ุชุบุฑ state ุฑุง ุฏุฑ ฺฉ ูฺฉุงู ูุชูุฑฺฉุฒ ูโฺฉูุฏุ ุชุบุฑุงุช ูุงุจู ูพุดโุจู ู ุชุณุชโูพุฐุฑ ูโุดููุฏ.
- ููุดู reducer ุฑุง **ุฎุงูุต** ูฺฏู ุฏุงุฑุฏ.
