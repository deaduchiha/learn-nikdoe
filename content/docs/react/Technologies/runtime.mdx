---
title: "۵. React DOM — لایه Runtime"
description: "یاد بگیرید که چگونه React کامپوننت‌های شما را با استفاده از React DOM به مرورگر متصل می‌کند و فرآیند رندر چگونه کار می‌کند."
sidebar_label: "React DOM (Runtime)"
slug: /flowers/react-dom-runtime
---

# 🧩 React DOM — Runtime

وقتی کد React مانند `<App />` را می‌نویسید، به طور خودکار در مرورگر ظاهر نمی‌شود.  
React به یک **موتور runtime** نیاز دارد تا کامپوننت‌های شما را به **DOM واقعی** متصل کند.  
آن موتور **React DOM** نامیده می‌شود.

---

## 🧠 آنچه یاد خواهید گرفت

- React DOM چیست و چه کاری انجام می‌دهد
- نقش `ReactDOM.createRoot()` و `root.render()`
- چگونه کد JSX شما در مرورگر رندر می‌شود
- DOM واقعی در مقابل Virtual DOM

---

## 🔹 React DOM چیست؟

**React DOM** **کتابخانه runtime** است که به React اجازه می‌دهد با **DOM واقعی مرورگر** تعامل کند.

بدون React DOM، JSX شما هرگز به صفحه نمایش نمی‌رسد.

---

### 💻 یک مثال ساده

```jsx
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<App />);
```

در اینجا هر خط چه کاری انجام می‌دهد:

| کد                         | چه کاری انجام می‌دهد                         |
| -------------------------- | -------------------------------------------- |
| `ReactDOM.createRoot(...)` | یک "root" React در DOM واقعی ایجاد می‌کند    |
| `root.render(<App />)`     | اپ React شما را داخل آن عنصر DOM رندر می‌کند |
| `<App />`                  | کامپوننت سطح بالای شما                       |

---

## 🔸 DOM واقعی در مقابل Virtual DOM

React ابتدا یک **Virtual DOM** می‌سازد — یک شیء JS سبک وزن که از UI تقلید می‌کند.

سپس، با استفاده از **React DOM**، نسخه مجازی را با DOM واقعی مقایسه می‌کند و حداقل تغییرات مورد نیاز را انجام می‌دهد.

```txt
JSX → Virtual DOM → (diff) → Real DOM
```

✅ **به‌روزرسانی‌های DOM سریع و کارآمد**

---

## 🔹 نمودار بصری: رندر چگونه کار می‌کند

```
┌────────────┐
│   <App />  │ ← شما این را می‌نویسید
└────┬───────┘
     ▼
┌────────────┐
│ Virtual DOM│ ← React یک درخت شیء JS می‌سازد
└────┬───────┘
     ▼
┌─────────────┐
│ React DOM   │ ← مقایسه و به‌روزرسانی DOM مرورگر
└────┬────────┘
     ▼
┌──────────────┐
│ مرورگر واقعی │ ← UI روی صفحه ظاهر می‌شود
└──────────────┘
```

---

## 🔸 React DOM API (React 18+)

React 18 **concurrent rendering** را معرفی کرد و `ReactDOM.render()` را با `ReactDOM.createRoot()` جایگزین کرد.

```js
// قدیمی (React 17)
ReactDOM.render(<App />, document.getElementById("root"));

// جدید (React 18+)
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<App />);
```

> ✅ همیشه از `createRoot` برای ویژگی‌های کامل React 18+ مانند **suspense**، **transitions** و **streaming** استفاده کنید.

---

## 🧪 تکالیف تمرینی

۱. ✅ یک اپ React پایه بسازید و جایی که `ReactDOM.createRoot()` استفاده شده را شناسایی کنید.
۲. ✅ JSX خود را تغییر دهید و ببینید چگونه React DOM را به صورت کارآمد به‌روزرسانی می‌کند.
۳. ✅ Chrome DevTools را باز کنید و عنصر `#root` را بررسی کنید تا ببینید اپ شما کجا زندگی می‌کند.

---

## 🧠 خلاصه

| مفهوم            | معنی                                      |
| ---------------- | ----------------------------------------- |
| React DOM        | Runtime که React را به مرورگر متصل می‌کند |
| `createRoot`     | موتور رندر React را راه‌اندازی می‌کند     |
| `render(<App/>)` | رندر درخت کامپوننت شما را شروع می‌کند     |
| Virtual DOM      | نمایش JS از UI قبل از رسیدن به DOM واقعی  |

---

## 📚 یادگیری بیشتر

- 🔗 [مستندات ReactDOM در react.dev](https://react.dev/reference/react-dom/client/createRoot)
- 🔗 [رندر در React توضیح داده شده](https://react.dev/learn/rendering-elements)
