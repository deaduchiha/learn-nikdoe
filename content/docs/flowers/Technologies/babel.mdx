---
title: "۳. Babel — ترنسپایلر جاوااسکریپت"
description: "جاوااسکریپت مدرن (ES6+) و JSX توسط مرورگرهای قدیمی کاملاً درک نمی‌شوند. به همین دلیل از *Babel* استفاده می‌کنیم — ابزاری که کد مدرن و درخشان شما را *ترجمه (ترنسپایل)* می‌کند به چیزی که *همه مرورگرها* می‌توانند با امنیت اجرا کنند."
---

## 🧠 آنچه یاد خواهید گرفت

- ترنسپایلر چیست و چرا به آن نیاز داریم
- Babel پشت صحنه چه کاری انجام می‌دهد
- چگونه Babel با JSX کار می‌کند
- Babel در ابزارهایی مانند **Vite**، **Next.js** یا **Create React App**

---

## 🔹 ترنسپایلر چیست؟

یک **ترنسپایلر** مانند یک مترجم است — **کد مدرن** را می‌گیرد و به **نحو جاوااسکریپت قدیمی** تبدیل می‌کند.

```js
// شما این را می‌نویسید (ES6+)
const greet = () => console.log("Hi");

// Babel آن را تبدیل می‌کند به:
var greet = function () {
  return console.log("Hi");
};
```

---

## 🔸 Babel چیست؟

🧠 **Babel** محبوب‌ترین ترنسپایلر جاوااسکریپت است.

می‌تواند:

- جاوااسکریپت مدرن را تبدیل کند (`import`، `class`، `arrow functions` و غیره)
- JSX را به جاوااسکریپت تبدیل کند
- polyfill های مرورگر را برای ویژگی‌هایی مانند `Promise`، `Array.includes()` و غیره اضافه کند

---

## 🔹 JSX با Babel

شما می‌نویسید:

```jsx
const heading = <h1>Hello, Nikode!</h1>;
```

Babel آن را ترنسپایل می‌کند به:

```js
const heading = React.createElement("h1", null, "Hello, Nikode!");
```

💡 Babel همان چیزی است که **JSX را کار می‌کند** در مرورگر — آن را به جاوااسکریپت واقعی تبدیل می‌کند.

---

## 🔧 Babel در ابزارهای شما

بیشتر ابزارهای توسعه مدرن با Babel از پیش نصب شده‌اند:

| ابزار                | راه‌اندازی Babel                                    |
| -------------------- | --------------------------------------------------- |
| **Create React App** | ✅ داخلی                                            |
| **Next.js**          | ✅ داخلی                                            |
| **Vite**             | ✅ از esbuild با پشتیبانی شبیه Babel استفاده می‌کند |
| **Parcel/Webpack**   | نیاز به پلاگین Babel دارد (`babel-loader`)          |

شما معمولاً Babel را به صورت دستی پیکربندی نمی‌کنید مگر اینکه **راه‌اندازی سفارشی** بسازید.

---

## 🔸 پلاگین‌ها و پیش‌تنظیم‌های Babel

یک **پلاگین** به Babel می‌گوید چه نوع کدی را تبدیل کند.
یک **پیش‌تنظیم** گروهی از پلاگین‌ها است.

مثال در فایل `.babelrc`:

```json
{
  "presets": ["@babel/preset-env", "@babel/preset-react"]
}
```

✅ `@babel/preset-env` = ES6+ → ES5
✅ `@babel/preset-react` = JSX → JS

---

➡️ بعدی: [Virtual DOM & React Rendering](/flowers/virtual-dom)

در اینجا یک **نمودار بصری** واضح و دوستانه برای مبتدیان وجود دارد که جریان از JSX تا خروجی رندر شده در مرورگر را نشان می‌دهد — عالی برای پلتفرم **Nikode** شما:

---

### 🖼 JSX → Babel → JavaScript → Browser (جریان بصری)

```css
┌─────────────┐
│   کد JSX    │
│ <h1>Hi!</h1>│
└─────┬───────┘
      │
      ▼
┌─────────────────────────────┐
│     ترنسپایل Babel         │
│ JSX → React.createElement() │
└─────┬───────────────────────┘
      │
      ▼
┌──────────────────────────────┐
│  جاوااسکریپت آماده مرورگر   │
│ React.createElement("h1",...)│
└─────┬────────────────────────┘
      │
      ▼
┌───────────────────────────────┐
│   React Virtual DOM (VDOM)    │
│ اشیاء JS سبک وزن می‌سازد     │
└─────┬─────────────────────────┘
      │
      ▼
┌───────────────────────────────┐
│      React Reconciler         │
│ VDOM → Real DOM diff را مقایسه می‌کند │
└─────┬─────────────────────────┘
      │
      ▼
┌──────────────────────┐
│   Real DOM (مرورگر)  │
│ <h1>Hi!</h1> ظاهر می‌شود │
└──────────────────────┘
```

---

### 🧠 خلاصه هر مرحله:

۱. **کد JSX**: شما JSX را در فایل‌های `.jsx` یا `.tsx` می‌نویسید.
۲. **Babel**: آن را به جاوااسکریپت سازگار با مرورگر ترنسپایل می‌کند.
۳. **React.createElement**: JSX تبدیل به فراخوانی‌های تابع JS می‌شود.
۴. **Virtual DOM**: React یک نسخه مجازی از UI می‌سازد.
۵. **Reconciler**: React VDOM های قدیمی و جدید را برای تغییرات مقایسه می‌کند.
۶. **Real DOM**: مرورگر فقط آنچه تغییر کرده را به‌روزرسانی می‌کند — به صورت کارآمد.

---

## 🧪 تکالیف تمرینی

۱. ✅ سعی کنید یک عنصر JSX بنویسید و آن را در [Babel REPL](https://babeljs.io/repl) بچسبانید تا کد کامپایل شده را ببینید.
۲. ✅ یک فایل HTML + JS پایه بسازید و اسکریپتی که توسط Babel کامپایل شده را شامل کنید.
۳. ✅ تحقیق کنید که چگونه Vite یا Next.js از Babel به صورت داخلی استفاده می‌کنند (تکلیف پیشرفته اختیاری).

---

## 🧠 خلاصه

| مفهوم       | توضیحات                                                           |
| ----------- | ----------------------------------------------------------------- |
| ترنسپایلر   | JS/JSX جدید را به JS قدیمی ترجمه می‌کند                           |
| Babel       | پرکاربردترین ترنسپایلر JS                                         |
| کامپایل JSX | Babel JSX را به `React.createElement` تبدیل می‌کند                |
| ابزارها     | ابزارهایی مانند CRA، Next، Vite از Babel پشت صحنه استفاده می‌کنند |

---

## 📚 مطالعه بیشتر

- 🔗 [سایت رسمی Babel](https://babeljs.io/)
- 🔗 [JSX به JS — Babel REPL را امتحان کنید](https://babeljs.io/repl)
